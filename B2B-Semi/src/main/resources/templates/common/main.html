<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Book Community 메인페이지</title>

	<link rel="stylesheet" href="/css/main-style.css">

	<!-- templates/common/common.html 조각으로 추가 -->
	<th:block th:replace="~{common/common}"></th:block>

</head>

<body>
	<!-- common/header.html 을 조각으로 추가 -->
	<th:block th:replace="~{common/header}"></th:block>
	<main class="main-content">
		<section class="hero-section">
			<h1 class="hero-title">당신의 독서 여정을 함께합니다</h1>
			<p class="hero-subtitle">수만 권의 도서와 독자들의 이야기가 여러분을 기다립니다</p>
		</section>

		<section class="genre-carousel">
			<div class="swiper">
				<h1 class="ranking-title">주간 인기 도서</h1>
				<div class="swiper-wrapper">
					<!-- 그룹 출력 -->
					<th:block th:unless="${#lists.isEmpty(bookList)}">
						<th:block th:each="group, groupStat : ${bookList}">
							<div class="swiper-slide">
								<div class="genre-slide">
									<div class="books-grid">
										<!-- 각 그룹 내의 책들 순회 -->
										<th:block th:each="book, iterStat : ${group}">
											<div class="book-card">
												<!-- 책 순번 -->
												<div class="rank-badge" th:text="${iterStat.count}"></div>
												<!-- 책 커버 이미지 -->
												<img th:src="${book.coverUrl}" alt="Book cover" class="book-cover">
												<div class="book-info">
													<!-- 책 제목 -->
													<div class="book-title" th:text="${book.title}" th:data-full-title="${book.title}"></div>
													<!-- 책 저자 -->
													<div class="book-author" th:text="${book.author}" th:data-full-author="${book.author}"></div>
													<div class="book-stats">
														<!-- 평점 -->
														<span class="stat-item">평점: <span
																th:text="${book.rating}"></span></span>
														<!-- 리뷰 수 -->
														<span class="stat-item">리뷰: <span
																th:text="${book.reviewCount}"></span></span>
													</div>
												</div>
											</div>
										</th:block>
									</div>
								</div>
							</div>
						</th:block>
					</th:block>
				</div>
				<div class="swiper-pagination"></div>
				<div class="swiper-button-prev"></div>
				<div class="swiper-button-next"></div>
			</div>
		</section>

		<section class="genre-section">
			<h2 class="section-title">
				<i class="fas fa-tags"></i>
				장르별 퀵 액세스
			</h2>
			<div class="genre-grid">
				<div class="genre-card">소설</div>
				<div class="genre-card">시/에세이</div>
				<div class="genre-card">인문</div>
				<div class="genre-card">자기계발</div>
			</div>
		</section>

		<section class="community-section">
			<div class="community-card">
				<h2 class="section-title">
					<i class="fas fa-comments"></i>
					자유게시판
				</h2>
				<ul class="post-list">
					<li class="post-item">
						<i class="fas fa-pen"></i>
						<a href="#" class="post-link">이번 달 독서 모임 후기</a>
					</li>
					<li class="post-item">
						<i class="fas fa-pen"></i>
						<a href="#" class="post-link">추천 도서 공유합니다</a>
					</li>
					<li class="post-item">
						<i class="fas fa-pen"></i>
						<a href="#" class="post-link">신간 리뷰 모음</a>
					</li>
				</ul>
			</div>
			<div class="community-card">
				<h2 class="section-title">
					<i class="fas fa-star"></i>
					추천게시판
				</h2>
				<ul class="post-list">
					<li class="post-item">
						<i class="fas fa-pen"></i>
						<a href="#" class="post-link">이달의 베스트 추천작</a>
					</li>
					<li class="post-item">
						<i class="fas fa-pen"></i>
						<a href="#" class="post-link">장르별 추천 도서</a>
					</li>
					<li class="post-item">
						<i class="fas fa-pen"></i>
						<a href="#" class="post-link">입문자를 위한 추천</a>
					</li>
				</ul>
			</div>
		</section>
	</main>

	<!-- common/footer 추가-->
	<th:block th:replace="~{common/footer}"></th:block>

	<!-- script 추가-->
	<script>
		const swiper = new Swiper('.swiper', {
			slidesPerView: 1,
			spaceBetween: 30,
			loop: true,
			pagination: {
				el: '.swiper-pagination',
				clickable: true,
			},
			navigation: {
				nextEl: '.swiper-button-next',
				prevEl: '.swiper-button-prev',
			},
			autoplay: {
				delay: 5000,
				disableOnInteraction: false,
			}
		});

	</script>
	<script src="/js/main.js"></script>

</body>

</html>