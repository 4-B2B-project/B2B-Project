<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Book Community 메인페이지</title>

	<link rel="stylesheet" href="/css/main-style.css">

	<!-- templates/common/common.html 조각으로 추가 -->
	<th:block th:replace="~{common/common}"></th:block>

</head>

<body>
	<!-- common/header.html 을 조각으로 추가 -->
	<th:block th:replace="~{common/header}"></th:block>
	<main class="main-content">
		<section class="hero-section">
			<h1 class="hero-title">당신의 독서 여정을 함께합니다</h1>
			<p class="hero-subtitle">수만 권의 도서와 독자들의 이야기가 여러분을 기다립니다</p>
		</section>

		<section class="genre-carousel">
			<div class="swiper">
				<h1 class="ranking-title">주간 인기 도서</h1>
				<div class="swiper-wrapper">
					<!-- 그룹 출력 -->
					<th:block th:unless="${#lists.isEmpty(bookList)}">
						<th:block th:each="group, groupStat : ${bookList}">
							<div class="swiper-slide">
								<div class="genre-slide">
									<div class="books-grid">
										<!-- 각 그룹 내의 책들 순회 -->
										<th:block th:each="book, iterStat : ${group}">
											<div class="book-card">
												<!-- 책 커버 이미지 -->
												<img th:src="${book.coverUrl}" alt="Book cover" class="book-cover">
												<div class="book-info">
													<!-- 책 제목 -->
													<div class="book-title" th:text="${book.title}"
														th:data-full-title="${book.title}"></div>
													<!-- 책 저자 -->
													<div class="book-author" th:text="${book.author}"
														th:data-full-author="${book.author}"></div>
													<div class="book-stats">
														<!-- 평점 -->
														<span class="stat-item">평점: <span
																th:text="${book.rating}"></span></span>
														<!-- 리뷰 수 -->
														<span class="stat-item">리뷰: <span
																th:text="${book.reviewCount}"></span></span>
													</div>
												</div>
											</div>
										</th:block>
									</div>
								</div>
							</div>
						</th:block>
					</th:block>
				</div>
				<div class="swiper-pagination"></div>
				<div class="swiper-button-prev"></div>
				<div class="swiper-button-next"></div>
			</div>
		</section>

		<section class="genre-section">
			<h2 class="section-title">
				<i class="fas fa-tags"></i>
				장르별 퀵 액세스
			</h2>
			<div class="genre-grid">
				<div class="genre-card">외국어</div>
				<div class="genre-card">어린이</div>
				<div class="genre-card">과학</div>
				<div class="genre-card">자기계발</div>
				<div class="genre-card">경제경영</div>
				<div class="genre-card">만화</div>
			</div>
		</section>

		<section class="community-section">
			<div class="community-card">
				<h2 class="section-title">
					<a href="/board/community/3" class="boardLink-button">
						<i class="fas fa-clipboard"></i>
						공지사항
					</a>
				</h2>
				<ul class="post-list" th:each="notice : ${noticeList}" th:object="${notice}">
					<li class="post-item">
						<i class="fas fa-pen"></i>
						<a th:href="@{/board/{boardCode}/{boardNo}(boardCode=*{boardCode}, boardNo=*{boardNo})}" class="post-link" th:text="*{boardTitle}">
							제목</a>
					</li>
				</ul>
			</div>
			<div class="community-card">
				<h2 class="section-title">
					<a href="/board/community/1" class="boardLink-button">
						<i class="fas fa-comments"></i>
						자유게시판
					</a>
				</h2>
				<ul class="post-list" th:each="community : ${communityList}" th:object="${community}">
					<li class="post-item">
						<i class="fas fa-pen"></i>
						<a th:href="@{/board/{boardCode}/{boardNo}(boardCode=*{boardCode}, boardNo=*{boardNo})}" class="post-link" th:text="*{boardTitle}">
							제목</a>
					</li>
				</ul>
			</div>
		</section>
	</main>

	<!-- common/footer 추가-->
	<th:block th:replace="~{common/footer}"></th:block>

	<!-- script 추가-->
	<script>
		const swiper = new Swiper('.swiper', {
			slidesPerView: 1,
			spaceBetween: 30,
			loop: true,
			pagination: {
				el: '.swiper-pagination',
				clickable: true,
			},
			navigation: {
				nextEl: '.swiper-button-next',
				prevEl: '.swiper-button-prev',
			},
			autoplay: {
				delay: 5000,
				disableOnInteraction: false,
			}
		});

	</script>
	<script src="/js/main.js"></script>

</body>

</html>